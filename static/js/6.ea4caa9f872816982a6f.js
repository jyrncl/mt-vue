webpackJsonp([6],{dwvS:function(s,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t("Dd8w"),e=t.n(i),n=t("NYxO"),o={data:function(){return{newName:"",curPass:"",newPass:"",comfirmPass:"",strongClass:"nothing",strongTag:"",newNameTag:"",curPsaaTag:"请输入当前密码",newPassTag:"请输入新密码",comfirmPsaaTag:"请再次输入新密码",isShowCurPsaaTag:!1,isShowNewPassTag:!1,isShowComfirmPsaaTag:!1,tagColor:!1,validClass:"",curValid:"",newValid:"",comfirmValid:"",showChangeAccount:!1,showChangePass:!1}},computed:e()({},Object(n.b)({account:function(s){return s.account},tag:function(s){return s.tag},userInfo:function(s){return s.userInfo}})),methods:{changeAccountPage:function(){this.showChangePass||(this.showChangeAccount=!0,this.newName||(this.tagColor=!1,this.validClass=""))},changePassPage:function(){this.showChangeAccount||(this.showChangePass=!0),this.curPass||(this.isShowCurPsaaTag=!1,this.curValid=""),this.newPass||(this.isShowNewPassTag=!1,this.newValid=""),this.comfirmPass||(this.isShowComfirmPsaaTag=!1,this.comfirmValid="")},closeChangePage:function(){this.showChangeAccount=!1,this.showChangePass=!1},changePass:function(){var s=this;this.curPass?this.userInfo.forEach(function(a,t){a.account==s.account&&(s.userInfo[t].password==s.curPass?(s.isShowCurPsaaTag=!1,s.curValid="valid"):(s.isShowCurPsaaTag=!0,s.curValid="invalid",s.curPsaaTag="当前密码错误，请重新输入"))}):(this.isShowCurPsaaTag=!0,this.curValid="invalid",this.curPsaaTag="请输入当前密码"),this.newPass?this.newPass.length<8?(this.isShowNewPassTag=!0,this.newValid="invalid",this.newPassTag="密码太短，至少8个字符，不要输入特殊字符"):(this.isShowNewPassTag=!1,this.newValid="valid"):(this.isShowNewPassTag=!0,this.newValid="invalid",this.newPassTag="请输入新密码"),this.comfirmPass?this.comfirmPass!==this.newPass?(this.isShowComfirmPsaaTag=!0,this.comfirmValid="invalid",this.comfirmPsaaTag="两次输入的密码不一致，请重新输入"):(this.isShowComfirmPsaaTag=!1,this.comfirmValid="valid"):(this.isShowComfirmPsaaTag=!0,this.comfirmValid="invalid",this.comfirmPsaaTag="请再次输入新密码"),this.isShowCurPsaaTag||this.newPass!=this.comfirmPass||this.userInfo.forEach(function(a,t){a.account==s.account&&s.userInfo[t].password==s.curPass&&(s.$store.commit("changePassword",{val:s.newPass,index:t}),s.showChangePass=!1,alert("密码已更改，请重新登录时使用新密码"))})},changeAccount:function(){var s=this;this.newName?this.tagColor||this.userInfo.forEach(function(a,t){a.account==s.account&&(s.$store.commit("changeAccount",{val:s.newName,index:t}),s.showChangeAccount=!1,s.account=s.newName,alert("用户名已更改，请重新登录时使用新用户名"))}):(this.validClass="invalid",this.tagColor=!0,this.newNameTag="请输入新昵称")},validUsername:function(){/[0-9A-z]/g.test(this.newName)&&this.newName.length>=5&&this.newName.length<=8?(this.validClass="valid",this.tagColor=!1):(this.validClass="invalid",this.tagColor=!0,this.newNameTag="输入英文字母，限5-8位长度")},validNewPass:function(){var s=this.newPass.length,a=/[A-z]/g;0==s?(this.strongClass="nothing",this.strongTag=""):s>0&&s<=8?(this.strongClass="weak",this.strongTag="弱"):s>=8&&s<=16&&a.test(this.newPass)?(this.strongClass="middle",this.strongTag="中"):s>16&&a.test(this.newPass)&&(this.strongClass="strong",this.strongTag="强")}}},c={render:function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"m-setting"},[t("p",{staticClass:"info"},[s._v("个人信息")]),s._v(" "),t("p",{staticClass:"userSetting"},[s._v("账户设置")]),s._v(" "),t("p",{staticClass:"username"},[t("span",{staticClass:"title"},[s._v("昵称")]),s._v(" "),t("span",{staticClass:"value"},[s._v(s._s(s.account))]),s._v(" "),t("button",{on:{click:s.changeAccountPage}},[s._v("修改")])]),s._v(" "),t("p",{staticClass:"password"},[t("span",{staticClass:"title"},[s._v("登录密码")]),s._v(" "),t("span",{staticClass:"value"},[s._v("安全强度："+s._s(s.tag))]),s._v(" "),t("button",{on:{click:s.changePassPage}},[s._v("修改")])]),s._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:s.showChangeAccount,expression:"showChangeAccount"}],staticClass:"bgUsername"},[t("div",{staticClass:"changeUsername"},[t("div",{staticClass:"head"},[t("span",[s._v("修改昵称")]),s._v(" "),t("i",{staticClass:"el-icon-error",on:{click:s.closeChangePage}})]),s._v(" "),t("div",{staticClass:"center"},[t("p",{staticClass:"curName"},[t("span",[s._v("当前昵称")]),s._v(" "),t("span",[s._v(s._s(s.account))])]),s._v(" "),t("p",{staticClass:"newName"},[t("span",[s._v("新昵称")]),s._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.newName,expression:"newName"}],class:s.validClass,attrs:{type:"text"},domProps:{value:s.newName},on:{keydown:s.validUsername,input:function(a){a.target.composing||(s.newName=a.target.value)}}})]),s._v(" "),t("p",{class:{tag:!0,tagColor:s.tagColor}},[s._v("\n          "+s._s(s.newNameTag)+"\n        ")]),s._v(" "),t("div",{staticClass:"changeBtn"},[t("button",{staticClass:"comfirm",on:{click:s.changeAccount}},[s._v("确认修改")]),s._v(" "),t("button",{staticClass:"cancel",on:{click:s.closeChangePage}},[s._v("取消")])])])])]),s._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:s.showChangePass,expression:"showChangePass"}],staticClass:"bgPassword"},[t("div",{staticClass:"changePassword"},[t("div",{staticClass:"head"},[t("span",[s._v("设置密码")]),s._v(" "),t("i",{staticClass:"el-icon-error",on:{click:s.closeChangePage}})]),s._v(" "),t("div",{staticClass:"center"},[t("p",{staticClass:"curPass"},[t("span",[s._v("当前密码")]),s._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.curPass,expression:"curPass"}],class:s.curValid,attrs:{type:"password"},domProps:{value:s.curPass},on:{input:function(a){a.target.composing||(s.curPass=a.target.value)}}})]),s._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:s.isShowCurPsaaTag,expression:"isShowCurPsaaTag"}],staticClass:"curPsaaTag"},[s._v(s._s(s.curPsaaTag))]),s._v(" "),t("p",{staticClass:"newPass"},[t("span",[s._v("密码")]),s._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.newPass,expression:"newPass"}],class:s.newValid,attrs:{type:"password"},domProps:{value:s.newPass},on:{keyup:s.validNewPass,input:function(a){a.target.composing||(s.newPass=a.target.value)}}})]),s._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:s.isShowNewPassTag,expression:"isShowNewPassTag"}],staticClass:"newPassTag"},[s._v(s._s(s.newPassTag))]),s._v(" "),t("div",{staticClass:"background"},[t("div",{class:s.strongClass}),s._v(" "),s._m(0)]),s._v(" "),t("p",{staticClass:"comfirmPass"},[t("span",[s._v("确认密码")]),s._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.comfirmPass,expression:"comfirmPass"}],class:s.comfirmValid,attrs:{type:"password"},domProps:{value:s.comfirmPass},on:{input:function(a){a.target.composing||(s.comfirmPass=a.target.value)}}})]),s._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:s.isShowComfirmPsaaTag,expression:"isShowComfirmPsaaTag"}],staticClass:"comfirmPsaaTag"},[s._v("\n          "+s._s(s.comfirmPsaaTag)+"\n        ")]),s._v(" "),t("div",{staticClass:"changeBtn"},[t("button",{staticClass:"comfirm",on:{click:s.changePass}},[s._v("确认修改")]),s._v(" "),t("button",{staticClass:"cancel",on:{click:s.closeChangePage}},[s._v("取消")])])])])])])},staticRenderFns:[function(){var s=this.$createElement,a=this._self._c||s;return a("div",{staticClass:"strength"},[a("span",[this._v("弱")]),this._v(" "),a("span",[this._v("中")]),this._v(" "),a("span",[this._v("强")])])}]};var r=t("VU/8")(o,c,!1,function(s){t("tidT")},null,null);a.default=r.exports},tidT:function(s,a){}});
//# sourceMappingURL=6.ea4caa9f872816982a6f.js.map